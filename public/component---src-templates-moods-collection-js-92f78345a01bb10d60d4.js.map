{"version":3,"file":"component---src-templates-moods-collection-js-92f78345a01bb10d60d4.js","mappings":"gPAqCMA,EAAO,SAAHC,GAAA,IAAMC,EAAQD,EAARC,SAAQ,OAAOC,EAAAA,cAAA,QAAMC,UAAU,QAAQF,EAAiB,EAClEG,EAAO,SAAHC,GAAA,IAAMJ,EAAQI,EAARJ,SAAQ,OAAOC,EAAAA,cAAA,KAAGC,UAAU,gBAAgBF,EAAc,EAEpEK,EAAU,CACdC,YAAUC,EAAA,GAAAA,EACPC,EAAAA,MAAAA,MAAa,SAACC,GAAI,OAAKR,EAAAA,cAACH,EAAI,KAAEW,EAAY,EAAAF,GAE7CG,YAAUC,EAAA,GAAAA,EACPC,EAAAA,OAAAA,WAAmB,SAACC,EAAMb,GAAQ,OAAKC,EAAAA,cAACE,EAAI,KAAEH,EAAgB,EAAAW,EAC9DC,EAAAA,OAAAA,gBAAwB,SAACC,GACxB,OACEZ,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,UAAI,kBACJA,EAAAA,cAAA,WACEA,EAAAA,cAAA,YAAOa,KAAKC,UAAUF,EAAM,KAAM,KAI1C,EAACF,IAIU,SAASK,EAAeC,GAkBrC,IAAMC,EAlBsCD,EAAJE,KAkBhBC,6BAA6BC,MAAM,GACrDC,EAlBN,SAAiBC,GAIf,IAHA,IACEC,EADEC,EAAeF,EAAMG,OAGD,IAAjBD,GAAoB,CACzBD,EAAcG,KAAKC,MAAMD,KAAKE,SAAWJ,GACzCA,IAAe,IAAAK,EAE6B,CAC1CP,EAAMC,GACND,EAAME,IAFPF,EAAME,GAAaK,EAAA,GAAEP,EAAMC,GAAYM,EAAA,EAI1C,CAEA,OAAOP,CACT,CAGoBQ,CAAQb,EAAWc,OAEvC,OACE/B,EAAAA,cAACgC,EAAAA,EAAM,CACLC,KAAK,YACLC,MAAK,YAAcjB,EAAWiB,MAC9BC,YAAgBlB,EAAWmB,OAAM,iCAAiCnB,EAAWoB,YAAW,IACxFC,UAAWrB,EAAWsB,MAEtBvC,EAAAA,cAACwC,EAAAA,EAAM,CACLvC,UAAU,kBACVwC,OAAQ,CACN,CAAEP,MAAO,YAAaK,KAAM,cAC5B,CAAEL,MAAO,QAASK,KAAK,oBAAqBtB,EAAWsB,MACvD,CACEL,MAAOjB,EAAWmB,OAClBG,KAAK,oBAAqBtB,EAAWsB,QAIzCvC,EAAAA,cAAA,OAAKC,UAAU,eACbD,EAAAA,cAAA,MAAIC,UAAU,gBAAe,SAC7BD,EAAAA,cAAA,MAAIC,UAAU,2BAA0B,MAAIgB,EAAWmB,QACtDnB,EAAWkB,cACVO,EAAAA,EAAAA,GAAezB,EAAWkB,YAAa/B,GACxCa,EAAW0B,WACV3C,EAAAA,cAAA,MAAIC,UAAU,WAAU,uCAE1BD,EAAAA,cAAA,MAAIC,UAAU,kBAAiB,oBAEhCoB,EAAYuB,KAAI,SAACC,GAChB,OACE7C,EAAAA,cAAA,OAAKC,UAAU,QACbD,EAAAA,cAAC8C,EAAAA,KAAI,CACH7C,UAAU,QACV8C,GAAE,0BAA4BF,EAAKN,MAEnCvC,EAAAA,cAACgD,EAAAA,EAAW,CACVC,OAAOC,EAAAA,EAAAA,GAASL,EAAKM,OACrBC,IAAKP,EAAKX,MACVmB,UAAU,UACVC,MAAO,CAAEC,UAAW,WAGxBvD,EAAAA,cAAA,OAAKC,UAAU,QACbD,EAAAA,cAAA,UACEA,EAAAA,cAAC8C,EAAAA,KAAI,CACH7C,UAAU,QACV8C,GAAE,0BAA4BF,EAAKN,MAElCM,EAAKX,QAGTW,EAAKW,QAAUxD,EAAAA,cAAA,MAAIC,UAAU,WAAU,WAIhD,KAIR,C","sources":["webpack://9vtbackslash5/./src/templates/MoodsCollection.js"],"sourcesContent":["import React from \"react\";\nimport { graphql, Link } from \"gatsby\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\nimport Layout from \"../components/Layout\";\nimport Window from \"../components/Window\";\nimport { renderRichText } from \"gatsby-source-contentful/rich-text\";\nimport { BLOCKS, MARKS } from \"@contentful/rich-text-types\";\n\nexport const query = graphql`\n  query ($slug: String!) {\n    allContentfulMoodsCollection(filter: { slug: { eq: $slug } }) {\n      nodes {\n        artist\n        releaseDate(formatString: \"MMMM YYYY\")\n        description {\n          raw\n        }\n        slug\n        saleEnded\n        moods {\n          isSold\n          price\n          slug\n          title\n          photo {\n            gatsbyImageData(\n              layout: FIXED\n              height: 300\n              placeholder: DOMINANT_COLOR\n            )\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst Bold = ({ children }) => <span className=\"bold\">{children}</span>;\nconst Text = ({ children }) => <p className=\"align-center\">{children}</p>;\n\nconst options = {\n  renderMark: {\n    [MARKS.BOLD]: (text) => <Bold>{text}</Bold>,\n  },\n  renderNode: {\n    [BLOCKS.PARAGRAPH]: (node, children) => <Text>{children}</Text>,\n    [BLOCKS.EMBEDDED_ASSET]: (node) => {\n      return (\n        <>\n          <h2>Embedded Asset</h2>\n          <pre>\n            <code>{JSON.stringify(node, null, 2)}</code>\n          </pre>\n        </>\n      );\n    },\n  },\n};\n\nexport default function MoodsCollection({ data }) {\n  function shuffle(array) {\n    let currentIndex = array.length,\n      randomIndex;\n\n    while (currentIndex !== 0) {\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex--;\n\n      [array[currentIndex], array[randomIndex]] = [\n        array[randomIndex],\n        array[currentIndex],\n      ];\n    }\n\n    return array;\n  }\n\n  const collection = data.allContentfulMoodsCollection.nodes[0];\n  const randomMoods = shuffle(collection.moods);\n\n  return (\n    <Layout\n      page=\"catalogue\"\n      title={`Moods by ${collection.title}`}\n      description={`${collection.artist}'s Moods collection. Released ${collection.releaseDate}.`}\n      canonical={collection.slug}\n    >\n      <Window\n        className=\"large catalogue\"\n        crumbs={[\n          { title: \"catalogue\", slug: \"/catalogue\" },\n          { title: \"Moods\", slug: `/catalogue/moods/${collection.slug}` },\n          {\n            title: collection.artist,\n            slug: `/catalogue/moods/${collection.slug}`,\n          },\n        ]}\n      >\n        <div className=\"description\">\n          <h1 className=\"title italic\">Moods</h1>\n          <h2 className=\"--muted ta-right author\">by {collection.artist}</h2>\n          {collection.description &&\n            renderRichText(collection.description, options)}\n          {collection.saleEnded && (\n            <h2 className=\"--muted\">sale has ended for this collection.</h2>\n          )}\n          <h2 className=\"--muted scroll\">(scroll -->)</h2>\n        </div>\n        {randomMoods.map((mood) => {\n          return (\n            <div className=\"idea\">\n              <Link\n                className=\"cover\"\n                to={`/catalogue/moods/cottu/${mood.slug}`}\n              >\n                <GatsbyImage\n                  image={getImage(mood.photo)}\n                  alt={mood.title}\n                  objectFit=\"contain\"\n                  style={{ maxHeight: \"100%\" }}\n                />\n              </Link>\n              <div className=\"info\">\n                <h1>\n                  <Link\n                    className=\"cover\"\n                    to={`/catalogue/moods/cottu/${mood.slug}`}\n                  >\n                    {mood.title}\n                  </Link>\n                </h1>\n                {mood.isSold && <h2 className=\"--muted\">(sold)</h2>}\n              </div>\n            </div>\n          );\n        })}\n      </Window>\n    </Layout>\n  );\n}\n"],"names":["Bold","_ref","children","React","className","Text","_ref2","options","renderMark","_renderMark","MARKS","text","renderNode","_renderNode","BLOCKS","node","JSON","stringify","MoodsCollection","_ref3","collection","data","allContentfulMoodsCollection","nodes","randomMoods","array","randomIndex","currentIndex","length","Math","floor","random","_ref4","shuffle","moods","Layout","page","title","description","artist","releaseDate","canonical","slug","Window","crumbs","renderRichText","saleEnded","map","mood","Link","to","GatsbyImage","image","getImage","photo","alt","objectFit","style","maxHeight","isSold"],"sourceRoot":""}