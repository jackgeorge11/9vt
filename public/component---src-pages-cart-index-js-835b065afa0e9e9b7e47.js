"use strict";(self.webpackChunk_9vtbackslash5=self.webpackChunk_9vtbackslash5||[]).push([[678],{6889:function(e,t,n){t.q=void 0;var r=c(n(7294)),a=c(n(3935)),o=c(n(5697));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,p(t).call(this,e))).state={isSdkReady:!1},n}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){"undefined"!=typeof window&&void 0!==window&&void 0===window.paypal?this.addPaypalSdk():"undefined"!=typeof window&&void 0!==window&&void 0!==window.paypal&&this.props.onButtonReady&&this.props.onButtonReady()}},{key:"createOrder",value:function(e,t){var n=this.props,r=n.currency,a=n.options,o=n.amount,c=n.shippingPreference;return t.order.create({purchase_units:[{amount:{currency_code:r||(a&&a.currency?a.currency:"USD"),value:o.toString()}}],application_context:{shipping_preference:c}})}},{key:"onApprove",value:function(e,t){var n=this;return t.order.capture().then((function(t){if(n.props.onSuccess)return n.props.onSuccess(t,e)})).catch((function(e){if(n.props.catchError)return n.props.catchError(e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.amount,o=t.onSuccess,c=t.createOrder,l=t.createSubscription,i=t.onApprove,s=t.style;if(!this.state.isSdkReady&&("undefined"==typeof window||void 0===window.paypal))return null;var p=window.paypal.Buttons.driver("react",{React:r.default,ReactDOM:a.default}),d=n&&!c?function(t,n){return e.createOrder(t,n)}:function(e,t){return c(e,t)};return r.default.createElement(p,u({},this.props,{createOrder:l?void 0:d,createSubscription:l,onApprove:o?function(t,n){return e.onApprove(t,n)}:function(e,t){return i(e,t)},style:s}))}},{key:"addPaypalSdk",value:function(){var e=this,t=this.props,n=t.options,r=t.onButtonReady,a=[];Object.keys(n).forEach((function(e){var t=e.split(/(?=[A-Z])/).join("-").toLowerCase();a.push("".concat(t,"=").concat(n[e]))}));var o=document.createElement("script");o.type="text/javascript",o.src="https://www.paypal.com/sdk/js?".concat(a.join("&")),o.async=!0,o.onload=function(){e.setState({isSdkReady:!0}),r&&r()},o.onerror=function(){throw new Error("Paypal SDK could not be loaded.")},document.body.appendChild(o)}}])&&i(n.prototype,o),c&&i(n,c),t}(r.default.Component);t.q=f,m(f,"propTypes",{amount:o.default.oneOfType([o.default.number,o.default.string]),currency:o.default.oneOfType([o.default.number,o.default.string]),shippingPreference:o.default.string,onSuccess:o.default.func,catchError:o.default.func,onError:o.default.func,createOrder:o.default.func,createSubscription:o.default.func,onApprove:o.default.func,style:o.default.object,options:o.default.shape({clientId:o.default.string,merchantId:o.default.string,currency:o.default.oneOfType([o.default.number,o.default.string]),intent:o.default.string,commit:o.default.oneOfType([o.default.bool,o.default.string]),vault:o.default.oneOfType([o.default.bool,o.default.string]),component:o.default.string,disableFunding:o.default.string,disableCard:o.default.string,integrationDate:o.default.string,locale:o.default.string,buyerCountry:o.default.string,debug:o.default.oneOfType([o.default.bool,o.default.string])}),onButtonReady:o.default.func}),m(f,"defaultProps",{style:{},options:{clientId:"sb",currency:"USD"},shippingPreference:"GET_FROM_FILE"})},9111:function(e,t,n){var r=n(1082),a=n(7294);t.Z=function(e){var t=e.crumbs,n=e.className;return t&&t.length?a.createElement("div",{className:"breadcrumbs "+(n||"")},a.createElement("h4",{className:"--muted"},t.map((function(e,n){return a.createElement(a.Fragment,null,n===t.length-1?a.createElement("span",{className:"--dark"},e.title):a.createElement(r.Link,{to:e.slug,className:"under --muted"},e.title),n!==t.length-1&&a.createElement("span",{className:"divider"},"â€¢"))})))):null}},2143:function(e,t,n){var r=n(7294),a=n(6791),o=n(9111);t.Z=function(e){var t=e.children,n=e.className,c=e.scroller,l=e.article,u=e.crumbs,i=(0,r.useContext)(a.d).color;return l?r.createElement(r.Fragment,null,r.createElement(o.Z,{crumbs:u,className:n}),r.createElement("article",{className:"window "+n,style:{backgroundColor:i},ref:c},t)):r.createElement(r.Fragment,null,r.createElement(o.Z,{crumbs:u,className:n}),r.createElement("main",{className:"window "+n,style:{backgroundColor:i},ref:c},t)," ")}},2852:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(5785),a=n(1082),o=n(3723),c=n(7294),l=n(2349),u=n(2143),i=n(7841),s=n(6889),p=n(3964),d=n.n(p);function m(){var e=(0,c.useContext)(i.A),t=e.cart,n=e.setCartShipping,p=e.updateCartQuantity,m=e.cartUpdating,f=e.cartTotal,h=e.removeCartItem,y=e.clearCart,g=function(e,t){if(e&&t||0===e&&t){var n=(e/100).toFixed(2);return new Intl.NumberFormat(["en-US"],{style:"currency",currency:t,currencyDisplay:"symbol"}).format(n)}},b=(0,c.useState)(void 0),v=b[0],E=b[1],w=function(e){return e.quantity*(e.price+e.price*e.tax)+e.quantity*JSON.parse(e.shipping[Number(e.shippingOption)].internal.content).cost};return c.createElement(l.Z,{page:"cart",title:"cart "+(t.length?"("+t.length+")":""),additional:[{name:"robots",content:"noindex"}]},c.createElement(u.Z,{className:"cart small",crumbs:[{title:"cart"}]},c.createElement("h1",null,"Cart (",f,")"),v?c.createElement(c.Fragment,null,c.createElement("h2",null,v),c.createElement("h2",null,"nearly 100% of proceeds go to our authors and artists."),c.createElement("h2",null,"if you have any questions about your purchase, email us at"," ",c.createElement("a",{href:"mailto:transactions@9vtbackslash5.com"},"transactions@9vtbackslash5.com"),"."),c.createElement("h2",{className:"ta-right"},c.createElement(a.Link,{to:"/catalogue"},"click here")," to navigate back to our catalogue."),c.createElement("h2",{className:"ta-right"},"or"," ",c.createElement("a",{href:"https://instagram.com/9vtbackslash5",target:"_blank",rel:"noopener noreferrer nofollow"},"click here")," ","to check out our Instagram.")):t.length?c.createElement(c.Fragment,null,m?c.createElement("h2",{className:"--muted loading"},"(loading)"):c.createElement(c.Fragment,null,c.createElement("div",{className:"cart-items"},t.map((function(e){return c.createElement("div",{className:"cart-item"},c.createElement(a.Link,{to:e.url,className:"cart-item-image"},c.createElement(o.G,{image:e.image})),c.createElement("div",{className:"cart-item-details"},c.createElement("h1",{className:"italic title"},c.createElement(a.Link,{to:e.url},e.title)," ",e.preorder&&d()(e.preorderShipDate).isAfter(d()())?c.createElement("span",{className:"--muted"},"(preorder)"):""),c.createElement("h3",{className:"--muted subtitle"},e.author,e.preorder&&d()(e.preorderShipDate).isAfter(d()())?" \\\\ this item ships from\n                              "+d()(e.preorderShipDate).format("MMMM Do"):""),c.createElement("h3",{className:"breakdown"},"quantity:"," ",c.createElement("select",{name:"quantity",value:e.quantity,onChange:function(n){Number(n.target.value)?p(e.slug,Number(n.target.value)):t.length>1?h(e.slug):y()},className:"xsm"},(0,r.Z)(Array(e.maxQuantity+1).keys()).map((function(e){return c.createElement("option",{value:e},e)})))),c.createElement("h3",null,"subtotal: $",(e.quantity*e.price/100).toFixed(2)),c.createElement("h3",null,"tax: ",100*e.tax,"%"),c.createElement("h3",null,"shipping:"," ",c.createElement("select",{name:"shipping",onChange:function(t){return n(e.slug,t.target.value)},defaultValue:"Select",value:e.shippingOption?e.shippingOption:null,className:"xsm"},c.createElement("option",{value:"Select",disabled:!0},"Select"),e.shipping.map((function(e,t){var n=JSON.parse(e.internal.content);return c.createElement("option",{value:t},g(n.cost,"USD")," ~ shipping to ",n.to)}))))))}))),c.createElement("div",{className:"cart-numbers"},t.filter((function(e){return e.shippingOption})).length===t.length?c.createElement(c.Fragment,null,c.createElement("h1",null,"Total:"," ",g(t.reduce((function(e,t){return e+w(t)}),0),"USD")),c.createElement("h3",{className:"--muted ta-right"},"Enter your shipping details at the next step."),c.createElement("div",{className:"paypal-btn-wrapper"},c.createElement(s.q,{style:{color:"black"},options:{clientId:"AdracerWWfFWyetVtP-i2c2qb2RV0WQYLX2TKQShPh7s9bxQrtD1pyadLNTQ27VEWGZz4ydTjnqjja0j"},currency:"USD",onError:function(e){console.log(e)},createOrder:function(e,n){return n.order.create({purchase_units:t.map((function(e){return{reference_id:e.slug,amount:{currency_code:"USD",value:(w(e)/100).toFixed(2),breakdown:{item_total:{currency_code:"USD",value:(e.quantity*e.price/100).toFixed(2)},shipping:{currency_code:"USD",value:(JSON.parse(e.shipping[Number(e.shippingOption)].internal.content).cost*e.quantity/100).toFixed(2)},tax_total:{currency_code:"USD",value:(e.quantity*e.price*e.tax/100).toFixed(2)}}},items:[{unit_amount:{currency_code:"USD",value:String((e.price/100).toFixed(2))},quantity:e.quantity,name:e.title,description:e.blurb?e.blurb:""}]}}))})},onApprove:function(e,t){return t.order.capture().then((function(e){y(),E("Thanks for your purchase, "+e.payer.name.given_name+".")}))}}))):c.createElement("h1",null,"In order to proceed, please select shipping options for all items in your cart.")))):c.createElement("h2",null,"your cart is empty, why not check out our"," ",c.createElement(a.Link,{to:"/catalogue"},"catalogue"),"?")))}}}]);
//# sourceMappingURL=component---src-pages-cart-index-js-835b065afa0e9e9b7e47.js.map